<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="eventmanagement_event_report">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="event">
                <t t-call="web.internal_layout">
                    <div class="page">
                        <h2><t t-esc="event.name"/> Fact Sheet</h2>
                        <table class="table table-condensed">
                            <thead>
                                <tr>
                                    <td>Job</td><td><t t-esc="event.job_name"/></td>
                                </tr>
                                <tr>
                                    <td>Event</td><td><t t-esc="event.name"/></td>
                                </tr>
                                <tr>
                                    <td>Duration</td><td><t t-esc="event.start_date"/> - <t
                                        t-esc="event.end_date"/></td>
                                </tr>
                                <tr>
                                    <td>Location</td><td><t t-esc="event.location_id.contact_address"/></td>
                                </tr>
                                <tr>
                                    <td>Responsible Customer</td><td><t t-esc="event.responsible_customer_name"/></td>
                                </tr>
                                <tr>
                                    <td>Responsible Agency</td><td><t t-esc="event.responsible_agency_name"/></td>
                                </tr>
                                <tr>
                                    <td>Description</td><td><t t-esc="event.description"/></td>
                                </tr>
                            </thead>
                            <tbody><tr><td></td></tr></tbody>

                        </table>
                        <t t-if="event.has_event_only_setup_items()">
                            <h5>Event general Setup Items</h5>
                            <table class="table table-condensed">
                                <thead>
                                    <tr style="background-color:#bccde8">
                                        <th>Subject</th>
                                        <th>Item</th>
                                        <th>Qty</th>
                                        <th>Product</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-foreach="event.setup_items" t-as="setup_item">
                                        <tr t-if="setup_item.session_id.id == False">
                                            <td><t t-esc="setup_item.subject"/></td>
                                            <td><t t-esc="setup_item.name"/></td>
                                            <td><t t-esc="setup_item.quantity"/></td>
                                            <td><t t-esc="setup_item.product_id.name"/></td>
                                            <td><t t-esc="setup_item.description"/></td>
                                        </tr>
                                    </t>
                                </tbody>
                            </table>
                        </t>
                        <t t-if="len(event.stock_move_lines) > 0">
                            <h5>Event Deliveries</h5>
                            <div t-foreach="event.stock_move_lines" t-as="delivery">
                                <table class="table table-condensed">
                                    <thead>
                                        <tr style="background-color:#bccde8">
                                            <td>Delivery Reference</td> <td><t t-esc="delivery.name"/></td>
                                        </tr>
                                        <tr><td>Destination</td> <td><t
                                                t-esc="delivery.partner_id.contact_address"/></td></tr>
                                        <tr><td>Scheduled</td> <td><t t-esc="delivery.scheduled_date"/></td></tr>
                                        <tr><td>Date Done</td> <td><t t-esc="delivery.date_done"/></td></tr>
                                        <tr><td>State</td> <td><t t-esc="delivery.state"/></td></tr>
                                        <tr><td>Note</td> <td><t t-esc="delivery.note"/></td></tr>
                                    </thead>
                                </table>
                                <table class="table table-condensed" style="margin:25px">
                                    <thead>
                                        <tr style="background-color:#bccde8">
                                            <th>Product</th>
                                            <th>Qty</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr t-foreach="delivery.move_line_ids" t-as="delivery_item">
                                            <td><t t-esc="delivery_item.product_id.name"/></td>
                                            <td><t t-esc="delivery_item.quantity"/></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </t>
                        <t t-if="event.has_event_only_purchases()">
                            <h5>Event general Purchase Orders</h5>
                            <div t-foreach="event.purchase_order_lines" t-as="po_item">
                                <t t-if="po_item.session_id.id == False">
                                    <table class="table table-condensed">
                                        <thead>
                                            <tr style="background-color:#bccde8">
                                                <td>PO Reference</td> <td><t t-esc="po_item.name"/></td>
                                            </tr>
                                            <tr>
                                                <td>Subject</td><td><t t-esc="po_item.subject"/></td>
                                            </tr>
                                            <tr>
                                                <td>Vendor</td><td><t t-esc="po_item.partner_id.name"/></td>
                                            </tr>

                                            <tr>
                                                <td>Vendor Ref</td><td><t t-esc="po_item.partner_ref"/></td>
                                            </tr>
                                            <tr>
                                                <td>Expected Arrival</td><td><t t-esc="po_item.date_planned"/></td>
                                            </tr>
                                            <tr>
                                                <td>Status</td><td><t t-esc="po_item.state"/></td>
                                            </tr>
                                        </thead>
                                        <tbody/>
                                    </table>

                                    <table class="table table-condensed" style="margin:25px">
                                        <thead>
                                            <tr style="background-color:#bccde8">
                                                <th>Product</th>
                                                <th>Description</th>
                                                <th>Qty</th>
                                                <th>Expected Arrival</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr t-foreach="po_item.order_line" t-as="po_line">
                                                <td><t t-esc="po_line.product_id.name"/></td>
                                                <td><t t-esc="po_line.name"/></td>
                                                <td><t t-esc="po_line.product_qty"/></td>
                                                <td><t t-esc="po_line.date_planned"/></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </t>
                            </div>
                        </t>


                        <div t-foreach="event.session_lines" t-as="session">
                            <div style="page-break-before: always;"/>
                            <div style="background-color:#bccde8">
                                <h3>Session: <t t-esc="session.name"/>, <t
                                        t-esc="event.name"/></h3>
                            </div>
                            <table class="table table-condensed">
                                <thead>
                                    <tr>
                                        <td>Location</td><td><t t-esc="event.location_name"/></td>
                                    </tr>
                                    <tr>
                                        <td>Room</td><td><t t-esc="session.event_room_name"/>, Configuration: <t
                                            t-esc="session.event_room_config"/></td>
                                    </tr>
                                    <tr>
                                        <td>Capacity</td><td><t t-esc="session.event_room_capacity"/>, PAX: <t
                                            t-esc="session.pax"/></td>
                                    </tr>
                                    <tr>
                                        <td>Start - End</td><td><t t-esc="session.start_date"/> - <t
                                            t-esc="session.end_date"/></td>
                                    </tr>
                                </thead>
                                <tbody/>
                            </table>
                            <t t-if="len(session.speakers) > 0">
                                <h5>Speakers / Actors</h5>
                                <table class="table table-condensed">
                                    <thead>
                                        <tr style="background-color:#bccde8">
                                            <th>Name</th>
                                            <th>Job Position</th>
                                            <th>Email</th>
                                            <th>Mobile</th>
                                            <th>City</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr t-foreach="session.speakers" t-as="partner">
                                            <td><t t-esc="partner.name"/></td>
                                            <td><t t-esc="partner.function"/></td>
                                            <td><t t-esc="partner.email"/></td>
                                            <td><t t-esc="partner.mobile"/></td>
                                            <td><t t-esc="partner.city"/></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </t>
                            <t t-if="len(session.session_setup_items) > 0">
                                <h5>Setup Items</h5>
                                <table class="table table-condensed">
                                    <thead>
                                        <tr style="background-color:#bccde8">
                                            <th>Subject</th>
                                            <th>Item</th>
                                            <th>Qty</th>
                                            <th>Product</th>
                                            <th>Description</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr t-foreach="session.session_setup_items" t-as="setup_item">
                                            <td><t t-esc="setup_item.subject"/></td>
                                            <td><t t-esc="setup_item.name"/></td>
                                            <td><t t-esc="setup_item.quantity"/></td>
                                            <td><t t-esc="setup_item.product_id.name"/></td>
                                            <td><t t-esc="setup_item.description"/></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </t>
                            <t t-if="len(session.session_purchase_lines) > 0">
                                <h5>Purchase Orders</h5>
                                <div t-foreach="session.session_purchase_lines" t-as="po_item">
                                    <table class="table table-condensed">
                                        <thead>
                                            <tr style="background-color:#bccde8">
                                                <td>PO Reference</td> <td><t t-esc="po_item.name"/></td>
                                            </tr>
                                            <tr>
                                                <td>Subject</td><td><t t-esc="po_item.subject"/></td>
                                            </tr>
                                            <tr>
                                                <td>Vendor</td><td><t t-esc="po_item.partner_id.name"/></td>
                                            </tr>

                                            <tr>
                                                <td>Vendor Ref</td><td><t t-esc="po_item.partner_ref"/></td>
                                            </tr>
                                            <tr>
                                                <td>Expected Arrival</td><td><t t-esc="po_item.date_planned"/></td>
                                            </tr>
                                            <tr>
                                                <td>Status</td><td><t t-esc="po_item.state"/></td>
                                            </tr>
                                        </thead>
                                        <tbody/>
                                    </table>

                                    <table class="table table-condensed" style="margin:25px">
                                        <thead>
                                            <tr style="background-color:#bccde8">
                                                <th>Product</th>
                                                <th>Description</th>
                                                <th>Qty</th>
                                                <th>Expected Arrival</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr t-foreach="po_item.order_line" t-as="po_line">
                                                <td><t t-esc="po_line.product_id.name"/></td>
                                                <td><t t-esc="po_line.name"/></td>
                                                <td><t t-esc="po_line.product_qty"/></td>
                                                <td><t t-esc="po_line.date_planned"/></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <hr size="2"/>
                            </t>

                        </div>
                    </div>
                </t>
            </t>
        </t>
    </template>
</odoo>